var FPF_Templates_Library_Filters=function(){function e(e){this.instance=e,this.filtersPillsClass=".fpf-library-selected-filters-pills",this.filterItemClass=".fpf-library-filter-item",this.initEvents()}var t=e.prototype;return t.initEvents=function(){document.addEventListener("click",function(e){this.initFilterItemToggle(e),this.onClearAllFilters(e),this.onRemoveFilterPillItem(e)}.bind(this)),document.addEventListener("change",function(e){this.onFilterItemSelect(e)}.bind(this))},t.initFilterItemToggle=function(e){var t=e.target.closest(".fpf-library-filter-item-label");t&&(e.preventDefault(),t.closest(this.filterItemClass).classList.toggle("open"))},t.onFilterItemSelect=function(e){e.target.closest(".fpf-library-filter-choice-item-checkbox")&&this.update()},t.update=function(){var e=this.instance.filters_sidebar.querySelectorAll(".fpf-library-filter-item"),l=[],o=(e.forEach(function(t){var e=t.querySelectorAll('input[type="checkbox"]:checked');l[t.dataset.type]=[],e.forEach(function(e){l[t.dataset.type].push(e.value)})}),Object.values(l).every(function(e){return 0===e.length}));o?(this.setNoFilters(),l=[]):this.setHasFilters(),l&&this.instance.items.getCurrentItems().forEach(function(e){var t=e.dataset.filterCategory,r=e.dataset.filterSolution,i=e.dataset.filterGoal,s=e.dataset.filterCompatibility,a=e.dataset.filterTags,n=!!o;for(key in l)if(0!==l[key].length){if("category"===key&&(""===t&&(n=!1),!(n=l[key].includes(t))))break;if("solution"===key&&(""===r&&(n=!1),!(n=l[key].includes(r))))break;if("goal"===key&&(""===i&&(n=!1),!(n=l[key].includes(i))))break;if("compatibility"===key&&(""===s&&(n=!1),!(n=l[key].includes(s))))break;if("tags"===key){for(tag in""===a&&(n=!1),l[key]){if(-1!==a.indexOf(l[key][tag])){n=!0;break}n=!1}if(!n)break}}n?e.classList.remove("is-hidden"):e.classList.add("is-hidden")}),this.instance.search.search(),this.instance.sorting.sort()},t.onUpdateSearchElements=function(){var r=this,i=(this.emptyFilterPills(),this.getFilterPillsWrapper());this.instance.filters_sidebar.querySelectorAll('input[type="checkbox"]:checked').forEach(function(e){var t=r.instance.library_wrapper.querySelector(".fpf-library-filter-template").cloneNode(!0);t.querySelector(".filter").dataset.filter=e.value,t.querySelector(".filter .filter-label").innerHTML=e.value,i.appendChild(t.children[0])})},t.emptyFilterPills=function(){this.getFilterPillsWrapper().innerHTML=""},t.getFilterPillsWrapper=function(){return this.instance.library_wrapper.querySelector(this.filtersPillsClass)},t.onClearAllFilters=function(e){e.target.closest(".fpf-library-filters-clear-all")&&(e.preventDefault(),this.instance.library_toolbar.querySelector(".fpf-library-search input").value="",this.instance.filters_sidebar.querySelectorAll('input[type="checkbox"]:checked').forEach(function(e){e.checked=!1}),this.update())},t.onRemoveFilterPillItem=function(e){var t=e.target.closest(".fpf-library-filter-pill-item-remove");t&&(e.preventDefault(),e=t.closest(".filter").dataset.filter,this.instance.filters_sidebar.querySelectorAll('input[type="checkbox"][value="'+e+'"]:checked').forEach(function(e){e.checked=!1}),this.update())},t.setHasFilters=function(){this.instance.library_wrapper.classList.add("has-filters")},t.setNoFilters=function(){this.instance.library_wrapper.classList.remove("has-filters")},e}(),FPF_Templates_Info_Modal=function(){function e(e){this.instance=e,this.modal=document.querySelector("#fpf-library-item-info-popup"),this.initEvents()}var t=e.prototype;return t.initEvents=function(){this.modal.addEventListener("fpf_modal_open",function(e){this.onBeforeOpen(e)}.bind(this))},t.onBeforeOpen=function(e){var r=this,e=e.detail.initiator,e=this.instance.getTemplateItem(e),i=e.querySelector(".info-popup-actions"),s=this.modal.querySelector(".dependency-items"),t=(s.innerHTML="",JSON.parse(e.dataset.capabilities)),a=(this.modal.querySelector(".modal-title").innerText=e.querySelector(".template-label").innerHTML,this.modal.querySelector(".item-description").innerHTML=e.dataset.note,this.modal.querySelector(".template-details").querySelector(".category .content").innerText=t.category.value,this.modal.querySelector(".template-details").querySelector(".solution .content").innerText=t.solution.value,this.modal.querySelector(".template-details").querySelector(".goal .content").innerText=t.goal.value,this.modal.querySelector(".dependency-item.template").cloneNode(!0));a.classList.remove("template"),a.querySelector(".requirement").innerHTML=fpf_templates_library_js_object.plugin_name+" "+("pro"===t.pro.requirement?fpf_templates_library_js_object.pro:fpf_templates_library_js_object.lite),a.querySelector(".detected").innerHTML=fpf_templates_library_js_object.plugin_name+" "+fpf_templates_library_js_object[t.pro.detected],"pro"===t.pro.requirement&&"pro"!==t.pro.detected?a.querySelector(".value").appendChild(i.querySelector("a.pro").cloneNode(!0)):a.classList.add("pass"),s.appendChild(a),(a=this.modal.querySelector(".dependency-item.template").cloneNode(!0)).classList.remove("template"),a.querySelector(".requirement").innerHTML=fpf_templates_library_js_object.wordpress+" "+t.wordpress.value+"+",a.querySelector(".detected").innerHTML=fpf_templates_library_js_object.wordpress+" "+t.wordpress.detected,""!==t.wordpress.icon?a.querySelector(".value").appendChild(i.querySelector("a.wordpress").cloneNode(!0)):a.classList.add("pass"),s.appendChild(a),(a=this.modal.querySelector(".dependency-item.template").cloneNode(!0)).classList.remove("template"),a.querySelector(".requirement").innerHTML=fpf_templates_library_js_object.plugin_name+" "+t.plugin.value+"+",a.querySelector(".detected").innerHTML=fpf_templates_library_js_object.plugin_name+" "+t.plugin.detected,""!==t.plugin.icon?(a.querySelector(".value").appendChild(i.querySelector("a.plugin").cloneNode(!0)),a.querySelector(".value a .label").innerHTML=fpf_templates_library_js_object.update_plugin):a.classList.add("pass"),s.appendChild(a),t.third_party_dependencies.value&&t.third_party_dependencies.value.forEach(function(e,t){(a=r.modal.querySelector(".dependency-item.template").cloneNode(!0)).classList.remove("template"),a.querySelector(".requirement").innerHTML=e.name+" "+e.version+"+",a.querySelector(".detected").innerHTML="none"===e.detected?"-":e.name+" "+e.detected,e.valid?a.classList.add("pass"):(a.querySelector(".value").appendChild(i.querySelector("a.third_party_dependencies_"+t).cloneNode(!0)),a.querySelector(".value a .label").innerHTML="update"===e.icon?fpf_templates_library_js_object.update_plugin:"activate"===e.icon?fpf_templates_library_js_object.activate_plugin:fpf_templates_library_js_object.install_plugin),s.appendChild(a)}),""!==t.license_error.value&&((a=this.modal.querySelector(".dependency-item.template").cloneNode(!0)).classList.remove("template"),a.querySelector(".requirement").innerHTML=fpf_templates_library_js_object.license_key,a.querySelector(".detected").innerHTML="missing"===t.license_error.value?"-":fpf_templates_library_js_object.license,a.querySelector(".value").appendChild(i.querySelector("a.license").cloneNode(!0)),s.appendChild(a))},e}(),FPF_Templates_Library_Items=function(){function e(e){this.instance=e,this.initEvents()}var t=e.prototype;return t.initEvents=function(){document.addEventListener("click",function(e){this.onFavorite(e),this.onInsert(e)}.bind(this))},t.onFavorite=function(e){var r,i,s,a=e.target.closest(".fpf-library-favorite-item");a&&(e.preventDefault(),a.classList.add("working"),r=e.target.closest(".fpf-library-item").dataset.id,i=this,(e=new FormData).append("nonce",fpf_js_object.nonce),e.append("action","fpf_library_favorites_toggle"),e.append("template_id",r),(s=new XMLHttpRequest).open("POST",fpf_js_object.ajax_url),s.onload=function(){var e,t;200<=s.status&&s.status<300&&(e=JSON.parse(s.response),e=Object.keys(e).includes(r),t=document.querySelector(".fpf-library-item[data-id='"+r+"'] .fpf-library-favorite-item"),a.classList.remove("working"),e?t.classList.add("active"):(t.classList.remove("active"),i.instance.filters.update()))},s.send(e))},t.onInsert=function(e){var t,r,i,s,a=e.target.closest(".fpf-library-item-insert-btn");!a||(t=a.dataset.templateId)&&(e.preventDefault(),r=a.closest(".fpf-library-item"),document.body.classList.add("fpf-templates-library-inserting"),r&&r.classList.add("inserting-template"),this.instance.hideMessageAlert(),a.classList.add("working"),i=this.instance.previewModal.classList.contains("is-visible"),s=this,(e=new FormData).append("nonce",fpf_js_object.nonce),e.append("template",t),e.append("action","fpf_library_insert_template"),fetch(fpf_js_object.ajax_url,{method:"post",body:e}).then(function(e){return e.json()}).then(function(e){e.error?i?(s.instance.showMessageAlert(e.message),s.instance.modal.querySelector(".fpf-library-body").scrollTo({top:0,behavior:"smooth"}),FPF_Modal.closeModal(s.instance.previewModal)):s.instance.showTemplateMessage(r,e.message):window.location.href=e.redirect,document.body.classList.remove("fpf-templates-library-inserting"),r&&r.classList.remove("inserting-template"),a.classList.remove("working")}))},t.getCurrentItems=function(e){var t=".fpf-library-list > .fpf-library-item:not(.blank_popup):not(.ignore)";return(e=void 0===e?!1:e)&&(t+=":not(.is-hidden)"),this.instance.library_wrapper.querySelectorAll(t)},e}(),FPF_Templates_Library=function(){function e(){this.modal=document.querySelector(".fpf-templates-library"),this.library_wrapper=document.querySelector(".fpf-library-page"),this.library_noresults=document.querySelector(".fpf-library-no-results"),this.library_list=document.querySelector(".fpf-library-list"),this.library_toolbar=this.library_wrapper.querySelector(".fpf-library-toolbar"),this.library_messages=this.library_wrapper.querySelector(".fpf-library-messages"),this.sidebar_element=this.library_wrapper.querySelector(".fpf-library-sidebar"),this.filters_sidebar=this.sidebar_element.querySelector(".fpf-library-sidebar-filters"),this.previewModal=document.querySelector(".fpf-templates-library-popup-preview"),this.items=new FPF_Templates_Library_Items(this),this.toolbar=new FPF_Templates_Library_Toolbar(this),this.filters=new FPF_Templates_Library_Filters(this),this.search=new FPF_Templates_Library_Search(this),this.sidebar=new FPF_Templates_Library_Sidebar(this),this.info_modal=new FPF_Templates_Info_Modal(this),this.sorting=new FPF_Templates_Library_Sorting(this),this.preview_modal=new FPF_Templates_Preview_Modal(this),this.initEvents()}var t=e.prototype;return t.initEvents=function(){document.addEventListener("click",function(e){this.handleRefreshTemplates(e),this.onLibraryOpen(e),this.onMessageHide(e),this.toggleFullscreenMode(e)}.bind(this))},t.onMessageHide=function(e){e=e.target.closest(".fpf-library-messages-hide-btn");e&&(e.closest(".fpf-alert").classList.add("is-hidden"),e.closest(".fpf-alert").querySelector("span.text").innerHTML="")},t.toggleFullscreenMode=function(e){var t=e.target.closest(".fpf-templates-library-toggle-fullscreen");t&&(e.preventDefault(),this.modal.classList.toggle("fullscreen"),t.classList.toggle("fullscreen"))},t.onLibraryOpen=function(e){var t,r=this.getLibraryOpenerElement(e);r&&(t=document.querySelector(".fpf-templates-library > .modal"),FPF_Modal.open(t,r),this.loadTemplates(),e.preventDefault())},t.getLibraryOpenerElement=function(e){return e.target.closest(".page-title-action")?e.target.closest(".page-title-action"):!!e.target.closest(".fpf-open-library-modal")&&e.target.closest(".fpf-open-library-modal")},t.loadTemplates=function(){if(this.library_wrapper.classList.contains("loaded"))return!1;var t=this.modal.querySelector(".fpf-templates-refresh-btn"),r=(t.classList.add("working"),this.resetTemplatesLayout(),this),e=new FormData;e.append("nonce",fpf_js_object.nonce),e.append("action","fpf_library_get_templates"),fetch(fpf_js_object.ajax_url,{method:"post",body:e}).then(function(e){return e.json()}).then(function(e){r.updateLibraryLayout(e),t.classList.remove("working")})},t.handleRefreshTemplates=function(e){var t,r,i=e.target.closest(".fpf-templates-refresh-btn");i&&(t=this,i.classList.add("working"),this.resetTemplatesLayout(),(r=new FormData).append("nonce",fpf_js_object.nonce),r.append("action","fpf_library_refresh_templates"),fetch(fpf_js_object.ajax_url,{method:"post",body:r}).then(function(e){return e.json()}).then(function(e){t.updateLibraryLayout(e),i.classList.remove("working"),e.code||e.message||(i.classList.add("checkmark"),setTimeout(function(){i.classList.remove("checkmark")},2e3))}),e.preventDefault())},t.updateLibraryLayout=function(e){var t="";if(e){if(e.code&&e.message)t=e.message;else if(e.errors)for(var r in e.errors)if(e.errors[r])for(var i in e.errors[r])t+="<p>"+e.errors[r][i]+"</p>"}else t="Cannot load templates";if(t)return this.showMessageAlert(t),void this.modal.querySelector(".fpf-library-body").scrollTo({top:0,behavior:"smooth"});this.library_list.querySelectorAll(".fpf-library-item:not(.blank_popup)").forEach(function(e){e.remove()}),this.library_wrapper.classList.add("loaded"),this.library_list.innerHTML+=e.templates,e.filters&&(this.filters_sidebar.innerHTML=e.filters),this.filters.update()},t.resetTemplatesLayout=function(){this.hideMessageAlert(),document.querySelector(".fpf-library-list").classList.remove("is-hidden"),document.querySelector(".fpf-library-no-results").classList.remove("is-visible")},t.showMessageAlert=function(e){e&&(this.library_messages.querySelector(".fpf-library-messages-text").innerHTML=e),this.library_messages.classList.remove("is-hidden")},t.hideMessageAlert=function(){this.library_messages.querySelector(".fpf-library-messages-text").innerHTML="",this.library_messages.classList.add("is-hidden")},t.showTemplateMessage=function(e,t){e=e.querySelector(".fpf-template-item-message");t&&(e.querySelector(".fpf-template-item-message-text").innerHTML=t),e.classList.remove("is-hidden")},t.getTemplateItem=function(e){var t=e.dataset.templateId;return t?this.library_list.querySelector('.fpf-library-item[data-id="'+t+'"]'):e.closest(".fpf-library-item")},e}(),FPF_Templates_Preview_Modal=(document.addEventListener("DOMContentLoaded",function(){new FPF_Templates_Library}),function(){function e(e){this.instance=e,this.previewing=!1,this.modal=document.querySelector("#fpf-library-preview-popup"),this.initEvents()}var t=e.prototype;return t.initEvents=function(){window.addEventListener("hashchange",function(e){"#templates-library-previewer"===window.location.hash&&(this.previewing=!0),this.previewing&&""===window.location.hash&&FPF_Modal.closeModal(this.modal.parentElement)}.bind(this)),this.modal.addEventListener("fpf_modal_open",function(e){this.onBeforeOpen(e)}.bind(this)),this.modal.addEventListener("fpf_modal_close",function(e){this.onBeforeClose()}.bind(this)),document.addEventListener("click",function(e){this.toggleResponsiveViewport(e),this.refreshDemo(e)}.bind(this))},t.onBeforeOpen=function(e){var e=e.detail.initiator,e=this.instance.getTemplateItem(e),t=(this.modal.querySelector(".modal-title").innerText=e.querySelector(".template-label").innerHTML,e.querySelector(".fpf-library-template-item-info").cloneNode(!0));this.modal.querySelector(".modal-header .fpf-library-template-item-info")&&this.modal.querySelector(".modal-header .fpf-library-template-item-info").remove(),e.classList.contains("has-errors")&&t.classList.add("has-errors"),this.modal.querySelector(".modal-header .modal-title-wrapper").appendChild(t);var r,t=(t=this.instance.library_wrapper.dataset.previewUrl).replace("TEMPLATE_ID",e.dataset.id),t=(this.modal.querySelector("iframe")?((r=this.modal.querySelector("iframe").cloneNode()).src=t,this.modal.querySelector("iframe").parentNode.replaceChild(r,this.modal.querySelector("iframe"))):((r=document.createElement("iframe")).className="fpf-library-preview-iframe",r.src=t,this.modal.querySelector(".fpf-library-preview-inner").appendChild(r)),this.modal.querySelector("iframe").addEventListener("load",this.onIframeLoaded.bind(this),!0),this.setViewport("desktop"),e.querySelector(".fpf-library-item-actions a").cloneNode(!0));this.modal.querySelector(".modal-header .fpf-library-preview-action")&&this.modal.querySelector(".modal-header .fpf-library-preview-action").remove(),t.classList.add("fpf-library-preview-action","fpf-button","outline"),t.classList.contains("red")||(e.classList.contains("has-errors")?t.classList.add("orange"):t.classList.add("blue")),this.modal.querySelector(".modal-header .actions-wrapper").insertBefore(t,this.modal.querySelector(".modal-header .actions-wrapper").firstChild)},t.onIframeLoaded=function(){this.modal.classList.remove("refreshing")},t.onBeforeClose=function(){this.previewing=!1,window.location.hash="";var e=this.getIFrame();e&&(e.removeEventListener("load",this.onIframeLoaded),e.src="")},t.refreshDemo=function(e){var t;e.target.closest(".fpf-templates-library-refresh-demo")&&(e.preventDefault(),this.modal.querySelector("iframe").removeEventListener("load",this.onIframeLoaded),this.modal.classList.add("refreshing"),(t=(e=this.getIFrame()).cloneNode()).addEventListener("load",this.onIframeLoaded.bind(this),!0),t.src=e.src,e.parentNode.replaceChild(t,e))},t.getIFrame=function(){return this.modal.querySelector("iframe")},t.toggleResponsiveViewport=function(e){e=e.target.closest(".fpf-templates-library-preview-responsive-device");e&&this.setViewport(e.dataset.device)},t.setViewport=function(e){var t=this.getIFrame();this.modal.querySelector(".fpf-templates-library-preview-responsive-device.active").classList.remove("active"),this.modal.querySelector('.fpf-templates-library-preview-responsive-device[data-device="'+e+'"]').classList.add("active"),t.classList.remove("desktop","tablet","mobile"),t.classList.add(e)},e}()),FPF_Templates_Library_Search=function(){function e(e){this.instance=e}var t=e.prototype;return t.search=function(){var r=this.getSearchTerm(),i=this.instance.library_toolbar.querySelector(".fpf-library-view-favorites.active");this.instance.items.getCurrentItems(!0).forEach(function(e){var t=!0;r&&(t=!1,e.dataset.title.toLowerCase().includes(r)&&(t=!0),e.dataset.note.toLowerCase().includes(r)&&(t=!0),e.dataset.filterCategory.toLowerCase().includes(r)&&(t=!0),e.dataset.filterTags.toLowerCase().includes(r)&&(t=!0),e.dataset.filterSolution.toLowerCase().includes(r)&&(t=!0),e.dataset.filterGoal.toLowerCase().includes(r)&&(t=!0)),(t=!i||e.querySelector(".fpf-library-favorite-item")&&e.querySelector(".fpf-library-favorite-item").classList.contains("active")?t:!1)?e.classList.remove("is-hidden"):e.classList.add("is-hidden")}),this.updateSearchElements()},t.updateSearchElements=function(){var e,t=this.instance.items.getCurrentItems(!0).length,t=(0===t?(this.instance.library_noresults.classList.add("is-visible"),this.instance.library_list.classList.add("is-hidden")):(this.instance.library_noresults.classList.remove("is-visible"),this.instance.library_list.classList.remove("is-hidden")),this.instance.library_wrapper.querySelector(".fpf-showing-results-counter").innerHTML=t,this.instance.filters.onUpdateSearchElements(),this.getSearchTerm());t&&(this.instance.filters.setHasFilters(),(e=this.instance.library_wrapper.querySelector(".fpf-library-filter-template").cloneNode(!0)).querySelector(".filter").classList.add("search-filter-pill"),e.querySelector(".filter svg").remove(),e.querySelector(".filter .filter-label").textContent='"'+t+'"',this.instance.filters.getFilterPillsWrapper().appendChild(e.children[0]))},t.getSearchTerm=function(){return this.instance.library_toolbar.querySelector("#fpf_search_template").value.trim().toLowerCase()},e}(),FPF_Templates_Library_Sidebar=function(){function e(e){this.instance=e,this.items=this.instance.items,this.toolbar=this.instance.toolbar,this.initEvents()}var t=e.prototype;return t.initEvents=function(){this.onPageLoadToggle(),document.addEventListener("click",function(e){this.initSidebarToggle(e)}.bind(this))},t.initSidebarToggle=function(e){e.target.closest(".fpf-library-sidebar-toggle")&&(e.preventDefault(),this.instance.modal.classList.toggle("sidebar-open"),e=this.getLibraryID(),this.instance.modal.classList.contains("sidebar-open")?window.localStorage.setItem(e,"open"):(window.localStorage.removeItem(e),this.instance.sidebar_element.scrollTo({top:0,behavior:"smooth"})))},t.getLibraryID=function(){return"templates_library_"+this.instance.library_wrapper.closest(".fpf-templates-library").querySelector(":scope > .modal").id},t.onPageLoadToggle=function(){window.localStorage.getItem(this.getLibraryID())?this.instance.modal.classList.add("sidebar-open"):this.instance.modal.classList.remove("sidebar-open")},e}(),FPF_Templates_Library_Sorting=function(){function e(e){this.instance=e,this.sortWrapper=this.instance.library_toolbar.querySelector(".sorting-selector-item"),this.initEvents()}var t=e.prototype;return t.initEvents=function(){document.addEventListener("click",function(e){this.onSortUpdate(e),this.onSortHide(e)}.bind(this)),this.sortWrapper.addEventListener("mouseover",function(e){this.onSortingShow(e)}.bind(this)),this.sortWrapper.addEventListener("mouseout",function(e){this.onSortingMouseOutHide(e)}.bind(this))},t.onSortingMouseOutHide=function(e){(e.target.closest(".sorting-selected-label")||e.target.closest(".sorting-selector-items"))&&this.sortWrapper.classList.remove("visible")},t.onSortUpdate=function(e){var t;e.target.closest(".sorting-selector-items")&&(t=e.target.closest("li"))&&!t.classList.contains("selected")&&(e.preventDefault(),this.sortWrapper.classList.remove("visible"),this.sortWrapper.querySelector(".sorting-selector-items li.selected").classList.remove("selected"),t.classList.add("selected"),this.sortWrapper.querySelector(".sorting-selected-label .selected-label").innerHTML=t.innerHTML,this.sort())},t.sort=function(){var i=this,s=this.sortWrapper.querySelector(".sorting-selector-items li.selected").dataset.value,e=this.instance.items.getCurrentItems(!0);e.forEach(function(e){e.style.order=null});e=Array.from(e).sort(function(e,t){var r="sort"+i.capitalizeFirstLetter(s);return"date"===s?e.dataset[r].localeCompare(t.dataset[r]):parseInt(e.dataset[r],10)<=parseInt(t.dataset[r],10)?-1:1});var e=[].concat(e).reverse(),t=1;e.forEach(function(e){e.style.order=t,t++})},t.onSortHide=function(e){e.target.closest(".sorting-selector-item")||this.sortWrapper.classList.remove("visible")},t.onSortingShow=function(e){e.target.closest(".sorting-selector-item")&&this.sortWrapper.classList.add("visible")},t.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e}(),FPF_Templates_Library_Toolbar=function(){function e(e){this.instance=e,this.initEvents()}var t=e.prototype;return t.initEvents=function(){document.addEventListener("input",function(e){this.onInputSearch(e)}.bind(this)),document.addEventListener("click",function(e){this.onFavoritesView(e)}.bind(this))},t.onInputSearch=function(e){e.target.closest("#fpf_search_template")&&(e.target.value.trim(),this.instance.filters.update())},t.onFavoritesView=function(e){var t=e.target.closest(".fpf-library-view-favorites");t&&(t.classList.toggle("active"),this.instance.library_wrapper.classList.toggle("favorites-view"),this.instance.filters.update(),e.preventDefault())},e}();

