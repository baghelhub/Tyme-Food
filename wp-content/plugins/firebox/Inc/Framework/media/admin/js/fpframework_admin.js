var FPFrameworkAdmin=function(){this.ui=new FPF_UI,this.cpt_helper=new FPF_CPT_Helper,this.conditionize=new FPF_Conditionize,this.tabs_state=new FPF_Tabs_State},FPF_Animation=(document.addEventListener("DOMContentLoaded",function(t){new FPFrameworkAdmin}),function(){function t(){}return t.slideUp=function(t,e){void 0===e&&(e=500),t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.boxSizing="border-box",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout(function(){t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property")},e)},t.slideDown=function(t,e){void 0===e&&(e=500),t.style.removeProperty("display");var n=window.getComputedStyle(t).display,n=(t.style.display=n="none"===n?"block":n,t.offsetHeight);t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.boxSizing="border-box",t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=n+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout(function(){t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property")},e)},t.slideToggle=function(t,e){return void 0===e&&(e=500),"none"===window.getComputedStyle(t).display?this.slideDown(t,e):this.slideUp(t,e)},t}()),FPF_Conditionize=(Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,n=Number(arguments[1])||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=e);n<e;n++)if(n in this&&this[n]===t)return n;return-1}),function(){function t(t){this.animate=t=void 0===t?!1:t,this.init()}var e=t.prototype;return e.init=function(){this.setUpShowon()},e.setUpShowon=function(t){for(var a,l=this,e=(t=t||document,0),n=(a=(t!=document?document.querySelector(t):document).querySelectorAll("[data-showon]:not(.fpf-run-condition)")).length;e<n;e++)!function(t){for(var e=a[t],n=(e.classList.add("fpf-run-condition"),JSON.parse(e.getAttribute("data-showon"))||[]),i=[],o=0,s=n.length;o<s;o++){var r=n[o].field,r=document.querySelectorAll('[name$="'+r+'"], [name$="'+r+'[]"]');i.push.apply(i,r)}l.linkedoptions(e),i.forEach(function(t){t&&("radio"==t.type?document.querySelectorAll('[name="'+t.getAttribute("name")+'"]').forEach(function(t){t.addEventListener("change",function(t){l.linkedoptions(e,l.animate)})}):t.addEventListener("change",function(t){l.linkedoptions(e,l.animate)}))})}(e)},e.linkedoptions=function(t,e){for(var i,o,s,r=!0,a=JSON.parse(t.getAttribute("data-showon"))||[],n=0,l=a.length;n<l;n++)!function(n){o=a[n]||{},s=o.field,s=document.querySelectorAll('[name$="'+s+'"], [name$="'+s+'[]"]'),o.valid=0,s.forEach(function(t){for(var e in-1!==["checkbox","radio"].indexOf(t.type)?i=t.checked?t.value:0:null==(i=t.value)&&"select-one"==t.type.toLowerCase()&&(i=[]),i="object"!=typeof i?JSON.parse('["'+i+'"]'):i)i.propertyIsEnumerable(e)&&("="==a[n].sign&&-1!==a[n].values.indexOf(i[e])&&(a[n].valid=1),"!="==a[n].sign&&-1===a[n].values.indexOf(i[e])&&(a[n].valid=1))}),""===o.op?0===o.valid&&(r=!1):("AND"===o.op&&o.valid+a[n-1].valid<2&&(r=!1,o.valid=0),"OR"===o.op&&0<o.valid+a[n-1].valid&&(r=!0,o.valid=1))}(n);if("option"==t.type&&(t.style.display=r?"":"none",t.setAttribute("disabled",!r)),e=e&&!t.classList.contains("no-animation")&&!t.classList.contains("no-animate")&&!t.querySelector(".no-animation, .no-animate"))if(r){if("block"==t.style.display||"flex"==t.style.display)return;FPF_Animation.slideDown(t)}else FPF_Animation.slideUp(t);else t.style.display=r?"":"none"},t}()),FPF_Cookie=function(){function t(){}return t.set=function(t,e,n){var i,o="";n&&((i=new Date).setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toUTCString()),document.cookie=t+"="+(e||"")+o+"; path=/"},t.get=function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return null},t.remove=function(t){document.cookie=t+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"},t}(),FPF_CPT_Helper=function(){function t(){this.initEvents()}var e=t.prototype;return e.initEvents=function(){document.addEventListener("click",function(t){this.handlePostTypeStatusChange(t)}.bind(this))},e.handlePostTypeStatusChange=function(t){var e,n=t.target.closest(".fpf-toggle-post-status");n&&(n.classList.add("disabled"),t=n.getAttribute("data-post-id"),e=n.checked?"publish":"draft",fetch(fpf_js_object.base_url+"/?rest_route=/fpframework/v1/cpt/"+t+"/"+e,{method:"POST",headers:{"X-WP-Nonce":fpf_js_object.wp_rest_nonce}}).then(function(t){return t.json()}).then(function(t){n.classList.remove("disabled")}))},t}(),FPF_FieldTooltipPosition=function(){function t(){this.labelClass=".fpf-tooltip-item",this.init()}return t.prototype.init=function(){document.addEventListener("mouseover",function(t){var e,n,i,t=t.target.closest(this.labelClass);t&&(e=(t=t.querySelector(".fpf-tooltip")).getBoundingClientRect(),n=t.parentElement.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n.top<=120||e.height/2>n.top?t.classList.add("pos-bottom"):n.top+120>i||n.top+120+e.height/2>i?t.classList.add("pos-top"):(t.classList.remove("pos-top"),t.classList.remove("pos-bottom")))}.bind(this))},t}(),FPF_Helper=function(){function t(){}return t.popupWindow=function(t,e,n,i){var o=null!=window.screenLeft?window.screenLeft:window.screenX,s=null!=window.screenTop?window.screenTop:window.screenY,r=window.innerWidth||document.documentElement.clientWidth||screen.width,a=window.innerHeight||document.documentElement.clientHeight||screen.height,l=r/window.screen.availWidth,t=window.open(t,e,"scrollbars=yes, width="+n/l+", height="+i/l+", top="+((a-i)/2/l+s)+", left="+((r-n)/2/l+o));window.focus&&t.focus()},t.getQueryString=function(t){var e=window.location.search;return new URLSearchParams(e).get(t)},t.number_format=function(t,e,n,i){if(null==t||!isFinite(t))throw new TypeError("Number is not valid");e||(e=1<(o=t.toString().split(".").length)?o:0),n=n||".",i=i||",";var o=(t=(t=parseFloat(t).toFixed(e)).replace(".",n)).split(n);return o[0]=o[0].replace(/\B(?=(\d{3})+(?!\d))/g,i),t=o.join(n)},t.loadScript=function(t,e,n){void 0===n&&(n=!1);var i=document.querySelectorAll('script[src^="'+t+'"]');if(0<i.length){if(!n)return void("function"==typeof e&&e());i.forEach(function(t){t.remove()})}(i=document.createElement("script")).src=t,document.head.appendChild(i),"function"==typeof e&&(i.onload=function(){e()})},t.loadStyleSheet=function(t,e){0<document.querySelectorAll('link[href^="'+t+'"]').length?"function"==typeof e&&e():((e=document.createElement("link")).href=t,e.type="text/css",e.rel="stylesheet",document.getElementsByTagName("head")[0].prepend(e))},t.onReady=function(t){"loading"!=document.readyState?t():document.addEventListener("DOMContentLoaded",t)},t}(),FPF_Tabs=function(){function t(){}var e=t.prototype;return e.init=function(){this.initEvents(),this.initMobileToggleLabel()},e.initEvents=function(){document.addEventListener("click",function(t){this.initNavigation(t),this.initMobileToggle(t),this.initMobileCloseOnDocumentClick(t)}.bind(this))},e.initNavigation=function(t){var e,n=t.target.closest(".fpf-tabs-nav-item");n&&(e=n.closest(".fpf-tabs-wrapper"),n=n.getAttribute("id"),tab_name=n.replace("fpf-tab-",""),this.selectTab(e,tab_name),t.preventDefault())},e.selectTab=function(t,e){this.getTabNavItem(t,e)&&(this.clearTabsSelection(t),this.changeSelection(t,e),"function"==typeof FPF_Textarea&&(t=t.querySelector('.fpf-tab-item[id$="'+e+'"]'),new FPF_Textarea(t).init()))},e.initMobileToggleLabel=function(){var t=document.querySelectorAll(".fpf-tabs-wrapper");t&&t.forEach(function(t){var e,n=t.querySelector(".fpf-tabs-nav-mobile-toggle span.text-outer");n&&(e=(t=t.querySelector(".fpf-tabs-nav .fpf-tabs")).querySelector("li.is-active"),n.innerHTML=(e||t.children[0]).querySelector(".text").innerHTML)})},e.initMobileToggle=function(t){var e=t.target.closest(".fpf-tabs-nav-mobile-toggle");e&&((e=e.parentNode).classList.contains("mobile-mode")?e.classList.remove("mobile-mode"):e.classList.add("mobile-mode"),t.preventDefault())},e.initMobileCloseOnDocumentClick=function(t){t.target.closest(".fpf-tabs-nav")||t.target.closest(".fpf-tabs-nav-mobile-toggle")||(t=document.querySelector(".fpf-tabs-nav-wrapper.mobile-mode"))&&t.classList.remove("mobile-mode")},e.clearTabsSelection=function(t){var e=t.querySelector(".fpf-tabs-nav-item.is-active"),e=(e&&e.classList.remove("is-active"),t.querySelector(".fpf-tab-item.is-active"));e&&e.classList.remove("is-active")},e.changeSelection=function(t,e){var n=this.getTabNavItem(t,e);n.classList.add("is-active"),t.querySelector('.fpf-tab-item[id$="'+e+'"]').classList.add("is-active"),t.querySelector(".fpf-tabs-nav-mobile-toggle")&&(t.querySelector(".fpf-tabs-nav-mobile-toggle .text-outer").innerHTML=n.innerHTML),t.querySelector(".fpf-tabs-nav-wrapper.mobile-mode")&&t.querySelector(".fpf-tabs-nav-wrapper.mobile-mode").classList.remove("mobile-mode")},e.getTabNavItem=function(t,e){return t.querySelector('.fpf-tabs-nav-item[id$="'+e+'"]')},t}(),FPF_Tabs_State=function(){function t(){this.tabsClass=".fpf-tabs-wrapper",this.tabNavItemClass=".fpf-tabs-nav-item",this.tabs_elements=document.querySelectorAll(this.tabsClass),this.tabs=new FPF_Tabs,this.init()}var e=t.prototype;return e.init=function(){this.tabs_elements.length&&(this.detectTabStateAndUpdateTabs(),this.initEvents())},e.initEvents=function(){document.addEventListener("click",function(t){this.setNewTabState(t)}.bind(this)),window.addEventListener("hashchange",function(){this.detectTabStateAndUpdateTabs()}.bind(this))},e.setNewTabState=function(t){var e,t=t.target.closest(this.tabNavItemClass);t&&(e=(e=t.getAttribute("id")).replace("fpf-tab-",""),null!=(t=t.closest(".fpf-tabs-wrapper").getAttribute("id"))&&FPF_Cookie.set(t,e))},e.detectTabStateAndUpdateTabs=function(){var e=this,n=(n=window.location.hash).replace("#","");this.tabs_elements.forEach(function(t){e.tabs.selectTab(t,n)})},t}(),FPF_UI=function(){this.tabs=new FPF_Tabs,this.tabs.init(),this.fieldTooltipPosition=new FPF_FieldTooltipPosition};

