const{__:a,_x:b,_n:c,_nx:d}=wp.i18n;jQuery(document).ready(function($){let c="";function d(){return error=0,$(".discount-code-wrap").hasClass("hide")||""!=$("#discount-code").val()?$(".discount_code_error").addClass("hide"):(error=1,$(".discount_code_error").removeClass("hide")),""==$(".discount-value").val()?(error=1,$(".discount_value_error").removeClass("hide")):$(".discount_value_error").addClass("hide"),"collections"==$(".applies_to:checked").val()&&$(".cart_collections").next(".select2").find("ul.select2-selection__rendered").find("li").length<1?(error=1,$(".applies_to_collections_error").removeClass("hide")):$(".applies_to_collections_error").addClass("hide"),"products"==$(".applies_to:checked").val()&&$(".cart_products").next(".select2").find("ul.select2-selection__rendered").find("li").length<1?(error=1,$(".applies_to_products_error").removeClass("hide")):$(".applies_to_products_error").addClass("hide"),"subtotal"==$(".min-req  option:selected").val()&&""==$(".discount-min-req").val()?(error=1,$(".min_val_error").removeClass("hide")):$(".min_val_error").addClass("hide"),error}$(".webcomepopup").length>0?$(".webcomepopup").show():$(".empty-widget").length>0&&$(".empty-widget").show(),$(".welcompopupbtn").click(function(){href=$(this).attr("href"),url=cx_data.site_url+"/wp-json/couponx/v1/update_popup_status",$.post({url:url,headers:{"X-WP-Nonce":$('input[name="cx_nonce"]').val()},function(a){console.log(a)}}),location.href=href}),keep_editing=0,$(".active_start_date").length>0&&($(".active_start_date").datepicker({dateFormat:"yy-mm-dd",minDate:0,onSelect:function(a){sd=new Date(a),$(".active_end_date").datepicker("option","minDate",sd)}}),$(".active_end_date").datepicker({dateFormat:"yy-mm-dd",minDate:0}),$(".cart_collections").select2(),$(".cart_products").select2(),$(".fonts-input").select2(),$(".select2-selection__rendered").removeAttr("title"),$(".tab-shape").select2({minimumResultsForSearch:1/0}),$(".animation-effect").select2({minimumResultsForSearch:1/0}),$(".country-dropdown").select2({minimumResultsForSearch:1/0})),$(".dashicons").tooltip({content:function(){return $(this).prop("title")},show:null,close:function(b,a){a.tooltip.hover(function(){$(this).stop(!0).fadeTo(400,1)},function(){$(this).fadeOut("400",function(){$(this).remove()})})}}),$(".accordion-btn").click(function(a){a.preventDefault(),$(".advanced-panel").hasClass("down")?$(".advanced-panel").slideUp("slow").removeClass("down"):$(".advanced-panel").slideDown("slow").addClass("down")}),$(".close-chaty-maxvisitor-popup").click(function(){$(".first-widget-popup").addClass("hide"),$(".popup-overlayout-cls").css("display","none")}),$(".tabs").tabs(),$("#tab-custom-icon-upload").change(function(a){if($("#tab-custom-icon-option").trigger("click"),a.target.files.length>0){let b=a.target.files[0].name;b.split(".").pop().toLowerCase();let c=URL.createObjectURL(a.target.files[0]);if(!/(\svg|\gif|\jpg|\jpeg|\png)$/i.test(b))return alert("Invalid file type"),$("#tab-custom-icon-option").val(""),!1;img="<img src='"+c+"' class='custom-tab-img' />",$(".tab-preview").find(".icon-img").html(img)}}),$(".fonts-input").on("change",function(){$(".select2-selection__rendered").removeAttr("title"),font=(font_arr=$(this).val().split("-"))[1].replace(/_/g," "),font_type=font_arr[0].replace(/_/g,""),$(".couponapp-google-font").remove(),$("head").append('<link href="https://fonts.googleapis.com/css?family='+font+':400,600,700" rel="stylesheet" type="text/css" class="couponapp-google-font">'),"System stack"==font_type&&(font='-apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'),$(".tab-preview .preview-box").css("font-family",font),$(".popup-preview .preview-box").css("font-family",font),$(".coupon-button").css("font-family",font+" !important")}),$(".custom-pos").click(function(){"custom"==$(this).val()?$(".custom-position").removeClass("hide"):$(".custom-position").addClass("hide")}),$(".pmsg").click(function(){$(this).is(":checked")?($(".pending-msg").removeClass("hide"),$(".coupon-pending-message").removeClass("hide"),$(".coupon-pending-message").text($(".no_msg").val())):($(".pending-msg").addClass("hide"),$(".coupon-pending-message").addClass("hide"))}),$(".no_msg").change(function(){1>parseInt($(this).val())&&$(this).val(1),$(".coupon-pending-message").text($(this).val())}),$(".delay-time").change(function(){0>parseInt($(this).val())&&$(".delay-time").val(0)}),$(".scroll-page").change(function(){0>parseInt($(this).val())&&$(".scroll-page").val(0)}),$(".close-time").change(function(){0>parseInt($(this).val())&&$(".close-time").val(0)}),$(".close-popup-button").click(function(){$(".webcomepopup").hide(),url=cx_data.site_url+"/wp-json/couponx/v1/update_popup_status",$.post({url:url,headers:{"X-WP-Nonce":$('input[name="cx_nonce"]').val()},function(a){console.log(a)}})}),$(".next-step").click(function(b){if(b.preventDefault(),href=$(this).attr("tab"),error=0,"#popup_design"==$(this).attr("tab")){if(0==$(".active-type").length)validation_popup.dialog("open"),$('a[tab="#popup_design"]').trigger("click");else if($(".active-type").hasClass("custom-coupon-code")||$(".active-type").hasClass("select-wp-generate-unique-coupon")){if(1==(error=d()))return;$(".discount-code-wrap").hasClass("hide")?$("input.coupon-type").val(2):$("input.coupon-type").val(3),text="Unique Code",3==(coupont_type=$("input.coupon-type").val())&&(text=$(".discount-code").val()),$(".couponapp-code-option .couponapp-inner-text").val(text),$(".couponapp-code-option .coupon-code-text").text(text),$(".couponapp-inner-text").val(text),$(".coupon-popup").removeClass("hide"),$(".announcement-popup").addClass("hide"),$(".cp").removeClass("hide"),$(".an").addClass("hide")}else if($(".active-type").hasClass("select-wp-exisitng-coupon")){if(0==$(".ex-coupon:checked").length){$(".ex-error").removeClass("hide");return}{let a=$(".ex-coupon:checked").attr("data-code");$(".couponapp-code-option .coupon-code-text").text(a),$(".couponapp-inner-text").val(a),$("input.coupon-type").val(1),$(".ex-error").addClass("hide"),$(".coupon-popup").removeClass("hide"),$(".announcement-popup").addClass("hide"),error=0,$(".cp").removeClass("hide"),$(".an").addClass("hide")}}}else if("#triggers_targetting"==$(this).attr("tab")&&""==$("#popup_type").val()){error=1,layout_validation.dialog("open");return}0==error&&($('a[href="'+href+'"]').trigger("click"),$("body, html").animate({scrollTop:0},500))}),$(".prev-step").click(function(a){a.preventDefault(),href=$(this).attr("tab"),$('a[href="'+href+'"]').trigger("click"),$("body, html").animate({scrollTop:0},500)});let e="",f=$(".validation-trigger").dialog({resizable:!1,dialogClass:"fixPosition",modal:!0,draggable:!1,height:"auto",width:400,overflow:"auto",autoOpen:!1,buttons:[{text:a("Save anyway","coupon-x"),class:"btn btn-red",click:function(){$("#loader").show(),g(e),$(this).dialog("close")}},{text:a("Select trigger","coupon-x"),class:"btn select-trigger",click:function(){$(this).dialog("close"),$('a[tab="#triggers_targetting"]').trigger("click")}}]}),g=function(c){let a=new FormData;if($.each($("form#cx_widget").serializeArray(),function(){a.append(this.name,this.value)}),$.each($("div.unique-coupon-div :input").serializeArray(),function(){a.append(this.name,this.value)}),$.each($("div.unique-coupon-div select").serializeArray(),function(){a.append(this.name,this.value)}),$(".ex-coupon:checked").length>0&&a.append("cx_settings[ex_coupon][coupon]",$(".ex-coupon:checked").val()),$("input[name='cx_settings[trigger][display_desktop]'").is(":checked")||a.append("cx_settings[trigger][display_desktop]",0),$("input[name='cx_settings[trigger][display_mobile]'").is(":checked")||a.append("cx_settings[trigger][display_mobile]",0),$("input[name='cx_settings[trigger][enable_time_delay]'").is(":checked")||a.append("cx_settings[trigger][enable_time_delay]",0),"custom"==$(".tab-icon:checked").val()){var b=$("input#tab-custom-icon-upload")[0].files[0];a.append("file",b)}url=cx_data.site_url+"/wp-json/couponx/v1/create_widget",$.ajax({url:url,type:"post",headers:{"X-WP-Nonce":$('input[name="cx_nonce"]').val()},processData:!1,contentType:!1,data:a,success:function(a){201==a.status?($("#loader").hide(),$("#wp_error_flash_message").removeClass("hide"),setTimeout(function(){$("#wp_error_flash_message").addClass("hide")},6e3)):($(".widget-id").val(a.widget_id),$("#loader").hide(),$(".first-widget-popup").length>0?($(".first-widget-popup").removeClass("hide"),$(".popup-overlayout-cls").css("display","block")):""!=c?location.href=c:($("#wp_flash_message").removeClass("hide"),setTimeout(function(){$("#wp_flash_message").addClass("hide")},6e3)))}})};function b(){"style-1"==$(".coupon-widget-style").find(".input-field-radio:checked").val()||"style-3"==$(".coupon-widget-style").find(".input-field-radio:checked").val()?($(".screen-tabs").addClass("hide"),$("#main_screen").addClass("hide"),$("#coupon_screen").removeClass("hide"),$("#announcement_screen").addClass("hide"),$(".coupon-tabs").find(".coupon-screen").trigger("click"),$(".cp-clr").removeClass("hide"),$("#coupon_headline_clr").next(".sp-replacer").removeClass("hide"),$("#coupon_desc_color").next(".sp-replacer").removeClass("hide")):"style-2"==$(".coupon-widget-style").find(".input-field-radio:checked").val()?($("#main_screen").removeClass("hide"),$("#coupon_screen").removeClass("hide"),$("#announcement_screen").addClass("hide"),$(".announcement-screen").addClass("hide"),$(".screen-tabs").find(".main-screen").trigger("click"),$(".screen-tabs").removeClass("hide"),$(".coupon-screen").removeClass("hide"),""!=$(".widget-id").val()||($(".main-headline").hasClass("changed")||($(".main-headline").val("Get 10% off now"),$(".couponapp-email-option h4").text("Get 10% off now")),$(".main-desc").hasClass("changed")||($(".main-desc").val("Minimum order of $25"),$(".couponapp-email-option .coupon-description").text("Minimum order of $25"))),$(".cpn-cpy-style").is(":checked")?($(".cp-clr").addClass("hide"),$("#coupon_headline_clr").next(".sp-replacer").addClass("hide"),$("#coupon_desc_color").next(".sp-replacer").addClass("hide")):($(".cp-clr").removeClass("hide"),$("#coupon_headline_clr").next(".sp-replacer").removeClass("hide"),$("#coupon_desc_color").next(".sp-replacer").removeClass("hide"))):"style-4"==$(".coupon-widget-style").find(".input-field-radio:checked").val()?($(".screen-tabs").addClass("hide"),$("#main_screen").addClass("hide"),$("#coupon_screen").addClass("hide"),$("#announcement_screen").removeClass("hide"),$(".coupon-tabs").find(".announcement-screen").trigger("click"),$(".an-cpy-style").addClass("hide"),""!=$(".widget-id").val()||($(".announcement-headline").hasClass("changed")||($(".announcement-headline").val("Check out our latest collection"),$(".couponapp-no-coupon-option h4").text("Check out our latest collection")),$(".announcement-desc").hasClass("changed")||($(".couponapp-no-coupon-option .coupon-description").text("New fall collection is now on sale"),$(".announcement-desc").val("New fall collection is now on sale"))),$(".an-clr").removeClass("hide"),$(".enable-btn").is(":checked")&&$(".btn-clr").removeClass("hide"),$("#announcement_headline_clr").next(".sp-replacer").removeClass("hide"),$("#announcement_desc_color").next(".sp-replacer").removeClass("hide")):"style-5"==$(".coupon-widget-style").find(".input-field-radio:checked").val()&&($("#main_screen").removeClass("hide"),$("#coupon_screen").addClass("hide"),$(".coupon-screen").addClass("hide"),$("#announcement_screen").removeClass("hide"),$(".announcement-screen").removeClass("hide"),$(".screen-tabs").find(".main-screen").trigger("click"),$(".screen-tabs").removeClass("hide"),$(".an-cpy-style").removeClass("hide"),""!=$(".widget-id").val()||($(".main-headline").hasClass("changed")||($(".main-headline").val("Enter email to get regular updates"),$(".couponapp-email-option h4").text("Enter email to get regular updates")),$(".main-desc").hasClass("changed")||($(".main-desc").val("Keep in touch with latest discounts and promos"),$(".couponapp-email-option .coupon-description").text("Keep in touch with latest discounts and promos")),$(".announcement-headline").hasClass("changed")||($(".announcement-headline").val("Thank you! You're awesome!"),$(".couponapp-no-coupon-option h4").text("Thank you! You're awesome!")),$(".announcement-desc").hasClass("changed")||($(".couponapp-no-coupon-option .coupon-description").text("Thanks for filling up"),$(".announcement-desc").val("Thanks for filling up"))),$(".cpy-style").is(":checked")?($(".an-clr").addClass("hide"),$("#announcement_headline_clr").next(".sp-replacer").addClass("hide"),$("#announcement_desc_color").next(".sp-replacer").addClass("hide")):($(".an-clr").removeClass("hide"),$("#announcement_headline_clr").next(".sp-replacer").removeClass("hide"),$("#announcement_desc_color").next(".sp-replacer").removeClass("hide")))}$(".save").click(function(b){b.preventDefault(),e="",trigger=!$(".exit-intent").is(":checked")&&!$(".page-scroll").is(":checked")&&!$(".time-delay").is(":checked"),view=!$(".chk-desktop").is(":checked")&&!$(".chk-mobile").is(":checked"),error=0,(2==$("input.coupon-type").val()||3==$("input.coupon-type").val())&&(error=d()),""==$("input.coupon-type").val()?(validation_popup.dialog("open"),c=validation_popup):""==$("#popup_type").val()?(layout_validation.dialog("open"),c=layout_validation):trigger?($(".trigger-error").text(a("Please select a trigger before publishing your widget","coupon-x")),$(".select-trigger").text(a("Select trigger","coupon-x")),f.dialog("open"),c=f):view?($(".trigger-error").text(a("Please select mobile/desktop before publishing your widget","coupon-x")),$(".select-trigger").text(a("Select device","coupon-x")),f.dialog("open"),c=f):1==error?$('a[tab="#choose_coupon"]').trigger("click"):($("#loader").show(),g(""))}),$(".time-delay").click(function(){$(this).is(":checked")?$(".delay-time").removeAttr("disabled"):$(".delay-time").attr("disabled","disabled")}),$(".page-scroll").click(function(){$(this).is(":checked")?$(".scroll-page").removeAttr("disabled"):$(".scroll-page").attr("disabled","disabled")}),$(".go-to-dashboard").click(function(b){b.preventDefault(),e=url=$(this).attr("href"),trigger=!$(".exit-intent").is(":checked")&&!$(".page-scroll").is(":checked")&&!$(".time-delay").is(":checked"),view=!$(".chk-desktop").is(":checked")&&!$(".chk-mobile").is(":checked"),""==$("input.coupon-type").val()?(validation_popup.dialog("open"),c=validation_popup):trigger?($(".trigger-error").text(a("Please select a trigger before publishing your widget","coupon-x")),$(".select-trigger").text(a("Select trigger","coupon-x")),f.dialog("open"),c=f):view?($(".trigger-error").text(a("Please select mobile/desktop before publishing your widget","coupon-x")),$(".select-trigger").text(a("Select device","coupon-x")),f.dialog("open"),c=f):($("#loader").show(),g(url))}),$(".tab-shape").change(function(){if(new_class="couponapp-tab-shape-"+(shape=$(this).val()),element=$(".tab-preview").find(".tab-box"),element.removeClass(function(b,a){return(a.match(/(^|\s)couponapp-tab-shape-\S+/g)||[]).join(" ")}),element.addClass(new_class),"hexagon"==shape){size=$(".tab-size").val(),color=$('input[name="cx_settings[tab][tab_color]"]').val();let a='<span class="after hexagon-after" ></span>';a+='<span class="before hexagon-before"  ></span>',$(".tab-preview").find(".tab-icon").prepend(a),$(".preview-box .tab-icon").css("height",size/Math.sqrt(3)+"px"),$(".hexagon-after").css("background-color",color+" !important").css("height",size/Math.sqrt(3)+"px"),$(".hexagon-before").css("background-color",color+" !important").css("height",size/Math.sqrt(3)+"px")}$(".tab-size").trigger("change")}),$(".custom-pos").click(function(){"custom"==(pos=$(this).val())&&(pos=$(".custom_position:checked").val()),new_class="couponapp-position-"+pos,(element=$(".tab-preview").find(".tab-box")).removeClass(function(b,a){return(a.match(/(^|\s)couponapp-position-\S+/g)||[]).join(" ")}),element.addClass(new_class),$(".tab-box").removeClass(function(b,a){return(a.match(/(^|\s)couponapp-position-\S+/g)||[]).join(" ")}),$(".tab-box").addClass(new_class),$(".custom-icon-bg").remove(),clr=$("#action_bgcolor").val(),console.log(clr),"left"==pos?$("body").append('<style class="custom-icon-bg">.tab-text:after {border-right-color:'+clr+" !important;border-left-color:transparent !important}</style>"):"right"==pos&&$("body").append('<style class="custom-icon-bg">.tab-text:after {border-left-color:'+clr+" !important;border-right-color:transparent !important}</style>")}),$('input[name="cx_settings[main][consent_text]"').keyup(function(){text=$(this).val(),$(".email-content-checkbox").find("span").text(text)}),$(".custom_position").click(function(){new_class="couponapp-position-"+(pos=$(this).val()),element=$(".tab-preview").find(".tab-box"),element.removeClass(function(b,a){return(a.match(/(^|\s)couponapp-position-\S+/g)||[]).join(" ")}),element.addClass(new_class),$(".tab-box").removeClass(function(b,a){return(a.match(/(^|\s)couponapp-position-\S+/g)||[]).join(" ")}),$(".tab-box").addClass(new_class),$(".custom-icon-bg").remove(),clr=$("#action_bgcolor").val(),console.log(clr),"left"==pos?$("body").append('<style class="custom-icon-bg">.tab-text:after {border-right-color:'+clr+" !important;border-left-color:transparent !important}</style>"):"right"==pos&&$("body").append('<style class="custom-icon-bg">.tab-text:after {border-left-color:'+clr+" !important;border-right-color:transparent !important}</style>")}),$(".tab-icon").change(function(){icon=$(this).val(),icon_color=$('input[name="cx_settings[tab][icon_color]"]').val(),svg=$("span#"+icon).html(),$(".tab-preview").find(".icon-img").html(svg),$(".tab-preview").find(".tab-icon").find("svg").css("fill",icon_color)}),$(".tab-size").change(function(){size=$(this).val();var a=64*$(this).val()/100;$(".preview-box .tab-icon").css("width",size+"px").css("height",size+"px"),$(".preview-box .tab-icon svg").css("width",a+"px").css("height",a+"px").css("top","calc(50% - "+a/2+"px)").css("left","calc(50% - "+a/2+"px)");var b=$(".tab-shape").val();"hexagon"==b&&(ht=$(this).val()/Math.sqrt(3)+"px",$(".preview-box .tab-icon").css("width",size+"px").css("height",size/Math.sqrt(3)+"px"),$(".hexagon-after").css("width",size+"px").css("height",size/Math.sqrt(3)+"px"),$(".hexagon-before").css("width",size+"px").css("height",size/Math.sqrt(3)+"px"))}),animation_effect=$(".animation-effect").find("option:selected").val(),$(".animation-effect").change(function(){effect=$(this).val(),old_class="couponapp-"+animation_effect+"-animation",animation_effect=effect,new_class="couponapp-"+effect+"-animation",element=$(".tab-preview").find(".tab-box"),element.removeClass(old_class),element.addClass(new_class)}),$("textarea.custom-css").change(function(){$(".coupon-custom-css").remove(),$("body").append('<style class="coupon-custom-css">'+$(this).val()+"</style")}),$(".call-action").keyup(function(){let a=$(this).val();$(".tab-preview").find(".tab-text").text(a)}),b(),$(".coupon-widget-style .input-field-radio").click(function(){b(),"style-3"==$(this).val()?$(".style-3").removeClass("hide"):$(".style-3").addClass("hide"),"style-2"==$(this).val()?$(".cpn-cpy").removeClass("hide"):$(".cpn-cpy").addClass("hide"),$(".ctype").removeClass("checked"),"style-1"==$(this).val()?($(this).closest(".ctype").addClass("checked"),$(".couponapp-email-code-option").removeClass("hide"),$(".couponapp-email-option").addClass("hide"),$(".couponapp-no-coupon-option").addClass("hide"),$(".couponapp-email-code-option").find(".form-wrap").removeClass("email-popup"),$(".tab-box-content").find(".coupon-button").text("Copy"),$(".cpy-btn").val("Copy"),$(".couponapp-link-option").addClass("hide"),$(".couponapp-code-option").removeClass("hide"),$(".custom-link").addClass("hide")):"style-2"==$(this).val()?($(this).closest(".ctype").addClass("checked"),$(".couponapp-email-code-option").addClass("hide"),$(".couponapp-link-option").addClass("hide"),$(".couponapp-email-option").removeClass("hide"),$(".couponapp-no-coupon-option").addClass("hide"),$(".cpy-btn").val("Copy"),$(".couponapp-email-option").find(".coupon-button").text("Send"),$(".couponapp-code-option").find(".coupon-button").text("Copy")):"style-3"==$(this).val()?($(this).closest(".ctype").addClass("checked"),$(".couponapp-email-code-option").removeClass("hide"),$(".couponapp-email-option").addClass("hide"),$(".couponapp-no-coupon-option").addClass("hide"),$(".tab-box-content").find(".coupon-button").text("Apply Coupon"),$(".cpy-btn").val("Apply Coupon"),$(".couponapp-link-option").removeClass("hide"),$(".couponapp-code-option").addClass("hide"),$(".custom-link").addClass("hide")):"style-4"==$(this).val()?($(this).closest(".ctype").addClass("checked"),$(".couponapp-email-code-option").addClass("hide"),$(".couponapp-link-option").addClass("hide"),$(".couponapp-email-option").addClass("hide"),$(".couponapp-no-coupon-option").removeClass("hide")):"style-5"==$(this).val()&&($(this).closest(".ctype").addClass("checked"),$(".couponapp-email-code-option").addClass("hide"),$(".couponapp-link-option").addClass("hide"),$(".couponapp-email-option").removeClass("hide"),$(".couponapp-no-coupon-option").addClass("hide"))}),$(".main-screen").click(function(){$(".couponapp-email-option").removeClass("hide"),$(".couponapp-no-coupon-option").addClass("hide"),$(".couponapp-code-option").addClass("hide")}),$(".coupon-screen").click(function(){$(".couponapp-email-option").addClass("hide"),$(".couponapp-code-option").removeClass("hide"),$(".couponapp-no-coupon-option").addClass("hide"),$(".cpn-cpy").removeClass("hide")}),$(".announcement-screen").click(function(){$(".couponapp-email-option").addClass("hide"),$(".couponapp-code-option").addClass("hide"),$(".couponapp-no-coupon-option").removeClass("hide"),$(".cpy-style").is(":checked")?($("#announcement_headline_clr").next(".sp-replacer").addClass("hide"),$("#announcement_desc_color").next(".sp-replacer").addClass("hide")):($("#announcement_headline_clr").next(".sp-replacer").removeClass("hide"),$("#announcement_desc_color").next(".sp-replacer").removeClass("hide"))}),$('.coupon-tab[href="#popup_design"]').click(function(a){a.preventDefault(),""==$("input.coupon-type").val()&&(validation_popup.dialog("open"),c=validation_popup)}),$(".link-type").change(function(){"2"==$(this).val()?$(".custom-link").removeClass("hide"):$(".custom-link").addClass("hide")}),$(".consent").click(function(){$(this).is(":checked")?($(".consent-text").removeClass("hide"),$("#email-content-checkbox").removeClass("hide")):($(".consent-text").addClass("hide"),$("#email-content-checkbox").addClass("hide"))}),$(".auto-close").click(function(){$(this).is(":checked")?$(".auto-close-text").removeClass("hide"):$(".auto-close-text").addClass("hide")}),$("#coupon_screen .coupon-headline").keyup(function(){$(".couponapp-code-option h4").text($(this).val()),$(".couponapp-link-option h4").text($(this).val())}),$("#coupon_screen .cpy-btn").keyup(function(){$(".couponapp-code-option .coupon-button").text($(this).val()),$(".couponapp-link-option .coupon-button").text($(this).val())}),$("#coupon_screen .coupon-desc").keyup(function(){$(".couponapp-code-option .coupon-description").text($(this).val()),$(".couponapp-link-option .coupon-description").text($(this).val())}),$(".main-headline").keyup(function(){$(".couponapp-email-option h4").text($(this).val()),$(this).addClass("changed")}),$(".main-email").keyup(function(){$(".couponapp-email-option .coupon-code-text").text($(this).val())}),$(".main-btn-text").keyup(function(){$(".couponapp-email-option .coupon-button").text($(this).val())}),$(".main-desc").keyup(function(){$(".couponapp-email-option .coupon-description").text($(this).val()),$(this).addClass("changed")}),$(".announcement-headline").keyup(function(){$(".couponapp-no-coupon-option h4").text($(this).val()),$(this).addClass("changed")}),$(".announcement-desc").keyup(function(){$(".couponapp-no-coupon-option p").text($(this).val()),$(this).addClass("changed")}),$(".announcement-btn").keyup(function(){$(".announcement-button").text($(this).val())}),$(".select-wp-exisitng-coupon").click(function(a){if(a.preventDefault(),$(this).hasClass("disable")){location.href=$(this).find("a").attr("href");return}$(".cp").removeClass("hide"),$(".an").addClass("hide"),$(".existing-coupon").removeClass("hide"),$(".unique-coupon").addClass("hide"),$(".coupon-type").removeClass("active-type"),$(this).addClass("active-type"),$("input.coupon-type").val(1),(""==(style=$(".coupon-widget-style").find(".input-field-radio:checked").val())||"style-4"==style||"style-5"==style)&&$("#input-field-radio-style-1").trigger("click"),$("html, body").animate({scrollTop:$("#couponapp-wp-coupon-codes").offset().top-130},2e3)}),$(".custom-coupon-code").click(function(a){if(a.preventDefault(),$(this).hasClass("disable")){location.href=$(this).find("a").attr("href");return}$(".cp").removeClass("hide"),$(".an").addClass("hide"),$(".existing-coupon").addClass("hide"),$(".coupon-type").removeClass("active-type"),$(this).addClass("active-type"),$(".unique-coupon").removeClass("hide"),$(".discount-code-wrap").removeClass("hide"),$(".unique-coupon-description").addClass("hide"),$("input.coupon-type").val(3),(""==(style=$(".coupon-widget-style").find(".input-field-radio:checked").val())||"style-4"==style||"style-5"==style)&&$("#input-field-radio-style-1").trigger("click"),$("html, body").animate({scrollTop:$("#couponapp-wp-unique-coupon-code").offset().top-130},2e3)}),$(".discount-code").change(function(){code=$(this).val(),$(".couponapp-code-option .couponapp-inner-text").val(code),$(".couponapp-code-option .coupon-code-text").text(code),$(".couponapp-inner-text").val(code)}),$(".ex-coupon").click(function(){code=$(this).data("code"),$(".couponapp-code-option .couponapp-inner-text").val(code),$(".couponapp-code-option .coupon-code-text").text(code),$(".couponapp-inner-text").val(code)}),$(".select-wp-generate-unique-coupon").click(function(a){if(a.preventDefault(),$(this).hasClass("disable")){location.href=$(this).find("a").attr("href");return}$(".cp").removeClass("hide"),$(".an").addClass("hide"),$(".discount-code-wrap").addClass("hide"),$(".unique-coupon-description").removeClass("hide"),$(".existing-coupon").addClass("hide"),$(".unique-coupon").removeClass("hide"),$(".coupon-type").removeClass("active-type"),$(this).addClass("active-type"),$("input.coupon-type").val(2),$(".couponapp-code-option .couponapp-inner-text").val("Unique Code"),$(".couponapp-code-option .coupon-code-text").text("Unique Code"),$(".couponapp-inner-text").val("Unique Code"),(""==(style=$(".coupon-widget-style").find(".input-field-radio:checked").val())||"style-4"==style||"style-5"==style)&&$("#input-field-radio-style-1").trigger("click"),$("html, body").animate({scrollTop:$("#couponapp-wp-unique-coupon-code").offset().top-130},2e3)}),$(".applies_to").click(function(){"collections"==(applies_to=$(this).val())?($(".applies-to-collections").removeClass("hide"),$(".applies-to-products").addClass("hide")):"products"==applies_to?($(".applies-to-collections").addClass("hide"),$(".applies-to-products").removeClass("hide")):($(".applies-to-collections").addClass("hide"),$(".applies-to-products").addClass("hide"))}),$(".min-req").change(function(){"subtotal"==(min_req=$(this).val())?($(".discount-min-requirements").removeClass("hide"),$(".discount-min-qty-items").addClass("hide")):"qty"==min_req?($(".discount-min-requirements").addClass("hide"),$(".discount-min-qty-items").removeClass("hide")):($(".discount-min-requirements").addClass("hide"),$(".discount-min-qty-items").addClass("hide"))}),$(".usage-limit").click(function(){$(this).is(":checked")?$(".enable_usage_limits").removeClass("hide"):$(".enable_usage_limits").addClass("hide")}),$(".active-dates").click(function(){$(this).is(":checked")?$(".unique-coupon-code-start-dates").removeClass("hide"):$(".unique-coupon-code-start-dates").addClass("hide")}),$(".enable-item-limit").click(function(){$(this).is(":checked")?$(".discount-total-usage-limit").removeClass("hide"):$(".discount-total-usage-limit").addClass("hide")}),$(".close-popup").click(function(){c.dialog("close")}),$(".discount-value").change(function(){1>parseInt($(this).val())&&$(this).val(1)}),$(".upgrade-timer").mouseover(function(){$(".txt").addClass("hide"),$(".up-txt").removeClass("hide")}).mouseleave(function(){$(".txt").removeClass("hide"),$(".up-txt").addClass("hide")}).click(function(){window.open($(this).find("a").attr("href"),"_blank")}),$(".select-no-coupon-code").click(function(){$(".existing-coupon").addClass("hide"),$(".unique-coupon").addClass("hide"),$(".coupon-type").removeClass("active-type"),$(this).addClass("active-type"),$("input.coupon-type").val(4),$(".announcement-popup").removeClass("hide"),$('a[tab="#popup_design"]').trigger("click"),$(".cp").addClass("hide"),$(".an").removeClass("hide"),("style-4"!=(style=$(".coupon-widget-style").find(".input-field-radio:checked").val())||"style-5"!=style)&&($(".announcement-headline").val("Check out our latest collection"),$(".couponapp-no-coupon-option h4").text("Check out our latest collection"),$("#input-field-radio-style-4").trigger("click"))}),$("#search-wp-coupon-codes-text").change(function(){search=$(this).val(),$(".tbl-coupons").find("tr").removeClass("hide"),""!=search&&$('.tbl-coupons tbody tr:not(:contains("'+search+'"))').addClass("hide")}),$(".widget-status").click(function(){status=0,$(this).is(":checked")&&(status=1),url=cx_data.site_url+"/wp-json/couponx/v1/update_status",widget_id=$(this).attr("widget-id"),$.post({url:url,headers:{"X-WP-Nonce":$('input[name="cx_nonce"]').val()},data:{id:widget_id,status:status},function(a){console.log(a)}})});let h=$("#couponapp-widget-delete-confirm").dialog({resizable:!1,dialogClass:"fixPosition",modal:!0,draggable:!1,height:"auto",width:400,overflow:"auto",autoOpen:!1,buttons:[{text:a("Cancel","coupon-x"),class:"btn btn-cancel",click:function(){$(this).dialog("close")}},{text:a("Delete Widget","coupon-x"),class:"btn btn-red",click:function(){url=cx_data.site_url+"/wp-json/couponx/v1/delete_widget",widget_id=$("#dashboard_widget_id").val(),$("#loader").show(),$.post({url:url,headers:{"X-WP-Nonce":$('input[name="cx_nonce"]').val()},data:{id:widget_id},success:function(a){console.log(a),$("#loader").hide(),$('tr[data-widget="'+widget_id+'"').hide(),$("#wp_flash_message").removeClass("hide"),setTimeout(function(){$("#wp_flash_message").addClass("hide")},6e3),location.reload()}}),$(this).dialog("close")}}]});function i(a){clr=a.toHexString(),$(".couponapp-email-option").css("background-color",clr),$(".cpn-cpy-style").is(":checked")&&$(".couponapp-email-code-option").css("background-color",clr),$(".cpy-style").is(":checked")&&$(".couponapp-no-coupon-option").css("background-color",clr)}function j(a){clr=a.toHexString(),$(".couponapp-email-option h4").css("color",clr),$(".cpn-cpy-style").is(":checked")&&$(".couponapp-email-code-option h4").css("color",clr),$(".cpy-style").is(":checked")&&$(".couponapp-no-coupon-option h4").css("color",clr)}function k(a){clr=a.toHexString(),$(".couponapp-email-option .coupon-code-text,.couponapp-email-option .form-wrap").css("background-color",clr),$(".cpn-cpy-style").is(":checked")&&(style="background-color:"+clr+"!important;color: "+$("#main_email_color").val()+"!important;",$(".couponapp-email-code-option .form-wrap, .couponapp-email-code-option .form-wrap p").attr("style",style))}function l(a){clr=a.toHexString(),$(".couponapp-email-option .coupon-code-text").css("color",clr),$(".cpn-cpy-style").is(":checked")&&(style="background-color:"+$("#main_email_bgcolor").val()+"!important;color: "+clr+"!important;",$(".couponapp-email-code-option .form-wrap p").attr("style",style))}function m(a){clr=a.toHexString(),$(".couponapp-email-option .form-wrap").css("border-color",clr),$(".cpn-cpy-style").is(":checked")&&(style="border-color:"+clr,$(".couponapp-email-code-option .form-wrap").attr("style",style))}function n(a){style="background-color:"+(clr=a.toHexString())+"!important;color: "+(text_color=$("#main_btn_color").val())+"!important;",$(".couponapp-email-option .coupon-button").attr("style",style),$(".cpn-cpy-style").is(":checked")&&$(".couponapp-email-code-option .coupon-button").attr("style",style)}function o(a){clr=a.toHexString(),style="background-color:"+(bg_color=$("#main_btn_bgcolor").val())+"!important;color: "+clr+"!important;",$(".couponapp-email-option .coupon-button").attr("style",style),$(".cpn-cpy-style").is(":checked")&&$(".couponapp-email-code-option .coupon-button").attr("style",style)}function p(a){clr=a.toHexString(),$(".couponapp-email-option .coupon-description").css("color",clr),$(".cpn-cpy-style").is(":checked")&&$(".couponapp-email-code-option .coupon-description").css("color",clr),$(".cpy-style").is(":checked")&&$(".couponapp-no-coupon-option p").css("color",clr)}$(".ui-dialog-buttonset").find("button").removeClass("ui-button"),$(".delete-widget").click(function(a){a.preventDefault(),link=$(this).closest("tr");let b=$(this).attr("widget-id");$("#dashboard_widget_id").val(b),h.dialog("open"),c=h}),$(window).scroll(function(){}),$(window).resize(function(){}),validation_popup=$(".validation-popup").dialog({resizable:!1,modal:!0,draggable:!1,height:"auto",width:400,overflow:"auto",autoOpen:!1,dialogClass:"fixPosition"}),layout_validation=$(".layout-validation").dialog({resizable:!1,modal:!0,draggable:!1,height:"auto",width:400,overflow:"auto",autoOpen:!1,dialogClass:"fixPosition"}),$(".keep-editing").click(function(){keep_editing=1,validation_popup.dialog("close"),$('a[tab="#triggers_targetting"]').trigger("click")}),$(".select-coupon-btn").click(function(){validation_popup.dialog("close"),$('a[tab="#choose_coupon"]').trigger("click")}),$(".close_flash_popup").click(function(){$("#wp_flash_message").addClass("hide")}),$(".btn-previewbtn").click(function(a){a.preventDefault(),$(this).hide(),$(".tab-preview").addClass("mobile-preview"),$(".mobile-preview-bg").show(),$(".tab-preview").show(),$(".coupon-preview-close").removeClass("hide")}),$(".coupon-preview-close").click(function(a){a.preventDefault(),$(".btn-previewbtn").show(),$(".tab-preview").removeClass("mobile-preview"),$(".mobile-preview-bg").hide(),$(".tab-preview").hide(),$(".coupon-preview-close").addClass("hide")}),$(".btn-popup-previewbtn").click(function(a){a.preventDefault(),$(this).hide(),$(".popup-preview").addClass("mobile-preview"),$(".mobile-preview-bg").show(),$(".popup-preview").show(),$(".popup-preview-close").removeClass("hide")}),$(".popup-preview-close").click(function(a){a.preventDefault(),$(".btn-popup-previewbtn").show(),$(".popup-preview").removeClass("mobile-preview"),$(".mobile-preview-bg").hide(),$(".popup-preview").hide(),$(this).addClass("hide")}),$("#tab_color").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".tab-icon").css("background-color",clr),$(".icon-img").css("background-color",clr)},change:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".tab-icon").css("background-color",clr),$(".icon-img").css("background-color",clr)}}),$("#icon_color").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".preview-box").find(".tab-icon-svg").css("fill",clr)},change:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".preview-box").find(".tab-icon-svg").css("fill",clr)}}),$("#no_color").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".preview-box").find(".coupon-pending-message").css("color",clr)},change:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".preview-box").find(".coupon-pending-message").css("color",clr)}}),$("#no_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".preview-box").find(".coupon-pending-message").css("background-color",clr)},change:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".preview-box").find(".coupon-pending-message").css("background-color",clr)}}),$("#action_color").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".preview-box").find(".tab-text").css("color",clr)},change:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".preview-box").find(".tab-text").css("color",clr)}}),$("#action_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".preview-box").find(".tab-text").css("background-color",clr),$(".custom-icon-bg").remove(),console.log($(".custom-pos:checked").val()),"left"==$(".custom-pos:checked").val()||"custom"==$(".custom-pos:checked").val()&&"left"==$(".custom_position:checked").val()?$("body").append('<style class="custom-icon-bg">.tab-text:after {border-right-color:'+clr+" !important;border-left-color:transparent !important}</style>"):("right"==$(".custom-pos:checked").val()||"custom"==$(".custom-pos:checked").val()&&"right"==$(".custom_position:checked").val())&&$("body").append('<style class="custom-icon-bg">.tab-text:after {border-left-color:'+clr+" !important;border-right-color:transparent !important}</style>")},change:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".preview-box").find(".tab-text").css("background-color",clr),$(".custom-icon-bg").remove(),console.log($(".custom-pos:checked").val()),"left"==$(".custom-pos:checked").val()?$("body").append('<style class="custom-icon-bg">.tab-text:after {border-right-color:'+clr+" !important;border-left-color:transparent !important}</style>"):"right"==$(".custom-pos:checked").val()&&$("body").append('<style class="custom-icon-bg">.tab-text:after {border-left-color:'+clr+" !important;border-right-color:transparent !important}</style>")}}),$("#main_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),i(a)},change:function(a){$(this).val(a.toRgbString()),i(a)}}),$("#main_hcolor").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),j(a)},change:function(a){$(this).val(a.toRgbString()),j(a)}}),$("#main_email_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),k(a)},change:function(a){$(this).val(a.toRgbString()),k(a)}}),$("#main_email_color").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),l(a)},change:function(a){$(this).val(a.toRgbString()),l(a)}}),$("#main_email_brdcolor").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),m(a)},change:function(a){$(this).val(a.toRgbString()),m(a)}}),$("#main_btn_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),n(a)},change:function(a){$(this).val(a.toRgbString()),n(a)}}),$("#main_btn_color").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),o(a)},change:function(a){$(this).val(a.toRgbString()),o(a)}}),$("#main_desc_color").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),p(a)},change:function(a){$(this).val(a.toRgbString()),p(a)}}),$("#coupon_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".couponapp-code-option").css("background-color",clr),$(".couponapp-link-option").css("background-color",clr)},change:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".couponapp-code-option").css("background-color",clr),$(".couponapp-link-option").css("background-color",clr)}}),$("#coupon_headline_clr").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".couponapp-code-option h4").css("color",clr),$(".couponapp-link-option h4").css("color",clr)},change:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".couponapp-code-option h4").css("color",clr),$(".couponapp-link-option h4").css("color",clr)}}),$("#coupon_pbgcolor").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),style="background-color:"+(clr=a.toHexString())+" !important;color: "+$("#coupon_color").val()+"!important;",$(".couponapp-email-code-option .form-wrap p.coupon-code-text, .couponapp-email-code-option .form-wrap").attr("style",style)},change:function(a){$(this).val(a.toRgbString()),style="background-color:"+(clr=a.toHexString())+" !important;color: "+$("#coupon_color").val()+"!important;",$(".couponapp-email-code-option .form-wrap p.coupon-code-text, .couponapp-email-code-option .form-wrap").attr("style",style)}}),$("#coupon_color").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".couponapp-code-option .coupon-code-text").css("color",clr)},change:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".couponapp-code-option .coupon-code-text").css("color",clr)}}),$("#coupon_brdcolor").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".coupon-code-text").parent(".form-wrap").css("border-color",clr),$("#vector-nonfloat-bar path").attr("fill",clr)},change:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".coupon-code-text").parent(".form-wrap").css("border-color",clr),$("#vector-nonfloat-bar path").attr("fill",clr)}}),$("#cls_btn_color").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".close-design-popup").css("color",clr)},change:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".close-design-popup").css("color",clr)}}),$("#cpy_btn_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),style="background-color:"+(clr=a.toHexString())+"!important;color: "+(text_color=$("#cpy_btn_color").val())+"!important;",$(".couponapp-code-option .coupon-button").attr("style",style),$(".couponapp-link-option .coupon-button").attr("style",style)},change:function(a){$(this).val(a.toRgbString()),style="background-color:"+(clr=a.toHexString())+"!important;color: "+(text_color=$("#cpy_btn_color").val())+"!important;",$(".couponapp-code-option .coupon-button").attr("style",style),$(".couponapp-link-option .coupon-button").attr("style",style)}}),$("#cpy_btn_color").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),style="background-color:"+(bg_color=$("#cpy_btn_bgcolor").val())+"!important;color: "+clr+"!important;",$(".couponapp-code-option .coupon-button").attr("style",style),$(".couponapp-link-option .coupon-button").attr("style",style)},change:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),style="background-color:"+(bg_color=$("#cpy_btn_bgcolor").val())+"!important;color: "+clr+"!important;",$(".couponapp-code-option .coupon-button").attr("style",style),$(".couponapp-link-option .coupon-button").attr("style",style)}}),$("#coupon_desc_color").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".couponapp-code-option .coupon-description").css("color",clr),$(".couponapp-link-option .coupon-description").css("color",clr)},change:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".couponapp-code-option .coupon-description").css("color",clr),$(".couponapp-link-option .coupon-description").css("color",clr)}}),$("#announcement_headline_clr").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".couponapp-no-coupon-option h4").css("color",clr)},change:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".couponapp-no-coupon-option h4").css("color",clr)}}),$("#announcement_desc_color").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".couponapp-no-coupon-option p").css("color",clr)},change:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".couponapp-no-coupon-option p").css("color",clr)}}),$("#announcement_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".couponapp-no-coupon-option").css("background-color",clr)},change:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),$(".couponapp-no-coupon-option").css("background-color",clr)}}),$("#announcement_btn_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),style="background-color:"+(clr=a.toHexString())+"!important;color: "+(text_color=$("#announcement_btn_color").val())+"!important;",$(".announcement-button").attr("style",style)},change:function(a){$(this).val(a.toRgbString()),style="background-color:"+(clr=a.toHexString())+"!important;color: "+(text_color=$("#announcement_btn_color").val())+"!important;",$(".announcement-button").attr("style",style)}}),$("#announcement_btn_color").spectrum({preferredFormat:"hex",showInput:!0,move:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),style="background-color:"+(bg_color=$("#announcement_btn_bgcolor").val())+"!important;color: "+clr+"!important;",$(".announcement-button").attr("style",style)},change:function(a){$(this).val(a.toRgbString()),clr=a.toHexString(),style="background-color:"+(bg_color=$("#announcement_btn_bgcolor").val())+"!important;color: "+clr+"!important;",$(".announcement-button").attr("style",style)}}),$("#error_color").spectrum({preferredFormat:"hex",showInput:!0}),$(".couponapp-inner-text").click(function(){$(".select-wp-coupon-code").trigger("click")}),$(".preview-box .tab-icon").click(function(){$(".preview-box .tab-tooltip").addClass("tooltip-show"),setTimeout(function(){$(".preview-box .tab-tooltip").removeClass("tooltip-show")},3e3)}),$("body").on("click",".ui-widget-overlay",function(){console.log("called"),c.dialog("close")}),$("body").on("click",".popup-overlayout-cls",function(){$(".first-widget-popup").addClass("hide"),$(".popup-overlayout-cls").css("display","none")}),$("#cx-help-form").submit(function(){return $(".cx-help-button").attr("disabled",!0),$(".cx-help-button").text("Sending Request..."),formData=$(this).serialize(),$.ajax({url:cx_data.url,data:formData,type:"post",success:function(a){if($("#cx-help-form").find(".error-message").remove(),$("#cx-help-form").find(".input-error").removeClass("input-error"),1==(responseArray=$.parseJSON(a)).error)for($(".cx-help-button").attr("disabled",!1),$(".cx-help-button").text("<?php esc_html_e( 'Chat', CHT_OPT ); ?>"),i=0;i<responseArray.errors.length;i++)$("#"+responseArray.errors[i].key).addClass("input-error"),$("#"+responseArray.errors[i].key).after('<span class="error-message">'+responseArray.errors[i].message+"</span>");else 1==responseArray.status?($(".cx-help-button").text("Done!"),setTimeout(function(){$(".cx-help-header").remove(),$(".cx-help-content").html("<p class='success-p'>Your message is sent successfully.</p>")},1e3)):0==responseArray.status&&$(".folder-help-content").html("<p class='error-p'>There is some problem in sending request. Please send us mail on <a href='mailto:contact@premio.io'>contact@premio.io</a>")}}),!1}),$(".cx-help-tooltip").click(function(a){a.stopPropagation(),$(".cx-help-form").toggleClass("active")}),$(".cx-help-form").click(function(a){a.stopPropagation()}),$("body").click(function(){$(".cx-help-form").removeClass("active")}),$(document).on("click",".updates-form button, a.form-cancel-btn",function(){var a=0;$(this).hasClass("yes")&&(a=1),$(".updates-form button").attr("disabled",!0),$.ajax({url:cx_data.url,data:{action:"coupon_x_update_signup_status",status:a,nonce:$(".signup-nonce").val(),email:jQuery("#starts_testimonials_update_email").val()},type:"post",cache:!1,success:function(){window.location.reload()}})}),$("input.cart-rule").click(function(){$(this).addClass("hide"),$("div.cart-rule").removeClass("hide"),$(".enable-cart-rule").val(1)}),$(".remove-cart-targeting").click(function(){$("div.cart-rule").addClass("hide"),$("input.cart-rule").removeClass("hide"),$(".enable-cart-rule").val(0)}),$("input.order-rule").click(function(){$(this).addClass("hide"),$("div.order-rule").removeClass("hide"),$(".enable-order-rule").val(1)}),$(".remove-order-targeting").click(function(){$("div.order-rule").addClass("hide"),$("input.order-rule").removeClass("hide"),$(".enable-order-rule").val(0)}),$("input.page-rule").click(function(){$("div.page-rule").removeClass("hide")}),$(document).on("click",".remove-page-targeting",function(){$("div.page-rule").addClass("hide")}),$(".popup-type:not(first-child)").mouseover(function(){$(this).find(".popup-upgrade").removeClass("hide")}).mouseleave(function(){$(this).find(".popup-upgrade").addClass("hide")}),$(".select-layout").click(function(){layout_validation.dialog("close"),$('a[tab="#popup_design"]').trigger("click")}),$(".popup-type:first-child").mouseover(function(){$(this).find(".btn-selected-style").hasClass("hide")&&$(this).find(".btn-select-layout").removeClass("hide")}).mouseleave(function(){$(this).find(".btn-select-layout").addClass("hide")}),$(".enable-btn").click(function(){$(this).is(":checked")?($(".btn-div").removeClass("hide"),$(".announcement-button").parent("div").removeClass("hide")):($(".announcement-button").parent("div").addClass("hide"),$(".btn-div").addClass("hide"))}),$(".cpy-style").click(function(){$(this).is(":checked")?($(".an-clr").addClass("hide"),$(".btn-div").addClass("hide"),$(".couponapp-no-coupon-option").css("background-color",$("#main_bgcolor").val()),$(".couponapp-no-coupon-option h4").css("color",$("#main_hcolor").val()),$(".couponapp-no-coupon-option p").css("color",$("#main_desc_color").val()),text_color=$("#main_btn_color").val(),clr=$("#main_btn_bgcolor").val(),style="background-color:"+clr+"!important;color: "+text_color+"!important;",$(".couponapp-no-coupon-option .announcement-button").attr("style",style),$("#announcement_headline_clr").next(".sp-replacer").addClass("hide"),$("#announcement_desc_color").next(".sp-replacer").addClass("hide")):(console.log("here"),$(".an-clr").removeClass("hide"),$(".enable-btn").is(":checked")&&$(".btn-div").removeClass("hide"),$(".couponapp-no-coupon-option").css("background-color",$("#announcement_bgcolor").val()),$(".couponapp-no-coupon-option h4").css("color",$("#announcement_headline_clr").val()),$(".couponapp-no-coupon-option p").css("color",$("#announcement_desc_color").val()),text_color=$("#announcement_btn_color").val(),clr=$("#announcement_btn_bgcolor").val(),style="background-color:"+clr+"!important;color: "+text_color+"!important;",$(".couponapp-no-coupon-option .announcement-button").attr("style",style),$("#announcement_headline_clr").next(".sp-replacer").removeClass("hide"),$("#announcement_desc_color").next(".sp-replacer").removeClass("hide"))}),$(".cpn-cpy-style").click(function(){$(this).is(":checked")?($(".cp-clr").addClass("hide"),$(".couponapp-email-code-option").css("background-color",$("#main_bgcolor").val()),$(".couponapp-email-code-option h4").css("color",$("#main_hcolor").val()),console.log($("#main_desc_color").val()),$(".couponapp-email-code-option .coupon-description").css("color",$("#main_desc_color").val()),text_color=$("#main_btn_color").val(),clr=$("#main_btn_bgcolor").val(),style="background-color:"+clr+"!important;color: "+text_color+"!important;",$(".couponapp-email-code-option .coupon-button").attr("style",style),style="background-color:"+$("#main_email_bgcolor").val()+"!important;color: "+$("#main_email_color").val()+"!important;",$(".couponapp-email-code-option .form-wrap p.coupon-code-text").attr("style",style),style="border-color:"+$("#main_email_brdcolor").val()+";background-color:"+$("#main_email_bgcolor").val()+" !important;",$(".couponapp-email-code-option .form-wrap").attr("style",style),$("#coupon_headline_clr").next(".sp-replacer").addClass("hide"),$("#coupon_desc_color").next(".sp-replacer").addClass("hide")):($(".cp-clr").removeClass("hide"),$(".couponapp-email-code-option").css("background-color",$("#coupon_bgcolor").val()),$(".couponapp-email-code-option h4").css("color",$("#coupon_headline_clr").val()),$(".couponapp-email-code-option .coupon-description").css("color",$("#coupon_desc_color").val()),text_color=$("#cpy_btn_color").val(),clr=$("#cpy_btn_bgcolor").val(),style="background-color:"+clr+"!important;color: "+text_color+"!important;",$(".couponapp-email-code-option .coupon-button").attr("style",style),style="background-color:"+$("#coupon_pbgcolor").val()+"!important;color: "+$("#coupon_color").val()+"!important;",$(".couponapp-email-code-option .form-wrap p.coupon-code-text").attr("style",style),style="background-color:"+$("#coupon_pbgcolor").val()+"!important;border-color:"+$("#coupon_brdcolor").val(),$(".couponapp-email-code-option .form-wrap").attr("style",style),$("#coupon_headline_clr").next(".sp-replacer").removeClass("hide"),$("#coupon_desc_color").next(".sp-replacer").removeClass("hide"))}),$(".btn-action").change(function(){"1"==$(this).val()?$(".announcement-redirect").addClass("hide"):$(".announcement-redirect").removeClass("hide")}),$(".slide-in-popup").click(function(){if(""==$("input.coupon-type").val()){validation_popup.dialog("open"),c=validation_popup;return}$(".btn-selected-style").removeClass("hide"),$(".popup-wrapper").removeClass("hide"),$(".mobile-preview-btn").removeClass("hide"),$(".popup-preview").removeClass("hide"),$(this).find(".btn-select-layout").addClass("hide"),$("#popup_type").val("Slide-in Pop Up")}),$(".lightbox-popup, .floating-bar").click(function(){window.open($(this).find(".popup-upgrade").find("a").attr("href"),"_blank")})})